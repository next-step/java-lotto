# 로또 (자동)

## 시나리오

### 구입 금액 입력

- 출력: 구입 금액을 입력해주세요. (1,000 ~ 1,000,000)
- 입력: 숫자 1개 입력
- 에러 종류
  - 입력 범위 벗어남
    - 출력: 1,000 ~ 1,000,000 사이 금액을 입력해주세요.
  - 숫자 아님
    - 출력: 숫자를 입력해주세요.

### 로또 발행

- 출력: N개를 구매했습니다.
- 출력: `[1, 2, 3, 4, 5, 6]`
  - 1 ~ 45 숫자 중 무작위 6개

### 지난 주 당첨 번호 입력

- 출력: 지난 주 당첨 번호를 입력해 주세요.
- 입력: 숫자 6개 입력
- 에러 종류
  - 숫자 리스트 변환 실패: `StringAddCalculator` 활용
    - 출력: 형식에 맞게 입력해주세요.
  - 숫자 6개 아님
    - 출력: 숫자 6개를 입력해주세요.
  - 숫자 범위 벗어남
    - 출력: 1 ~ 45 사이의 숫자를 입력해주세요.
  - 중복된 숫자
    - 출력: 중복된 숫자가 있습니다.

### 당첨 통계

- 출력: 당첨 통계
- 출력: --------
- 출력: 3개 일치 (5,000원) - N개
- 출력: 4개 일치 (50,000원) - N개
- 출력: 5개 일치 (1,500,000원) - N개
- 출력: 6개 일치 (2,000,000,000원) - N개
- 출력: 총 수익률은 X%입니다.

---

## 단계별 생성 및 필요 데이터

- 구입 금액 입력
  - 생성: 구입금액
- 로또 발행
  - 필요: 구입금액
  - 생성: 로또 배열 리스트
- 지난 주 당첨 번호 입력
  - 생성: 당첨 로또 배열
- 당첨 통계
  - 필요: 로또 배열 리스트, 당첨 로또 배열
  - 생성: 금액별 당첨 개수, 수익률

---

## 자료형 선택

### 당첨금 제한

- 당첨금 자료형: `long`
  - `Integer.MAX_VALUE < 1등 당첨금 * 2 < Long.MAX_VALUE`
  - 5,000원: 3개 정답
  - 50,000원: 4개 정답
  - 1,500,000원: 5개 정답
  - 2,000,000,000원: 6개 정답

### 최대 구입 개수 제한

- 이론상 최대로 구입할 수 있는 로또 개수 계산
  - `최대 구입 로또 개수 < (Long.MAX_VALUE / 1등 당첨금)`
  - `최대 구입 로또 개수 = 4611686018`
- 시뮬레이션 가능한 로또 개수 제한: `1000`개

### 구입금액 제한

- 구입금액 자료형: `int`
- `최소 구입금액 = 1000원`
- `최대 구입금액 = 1,000,000원`
  - `< Integer.MAX_VALUE`

### 수익률 계산

- 수익률 자료형: `int`
- 계산식: `(당첨금 합 - 실제 구입금액) / 실제 구입금액 * 100`
- 최고 수익률: `199,999,900%`
  - `(1등 당첨금 * 최대 구입 로또 개수 - 최대 구입 금액) / 최대 구입 금액 * 100`
  - `2,000,000,000 * 100 / 1,000 - 100`
- 최저 수익률: `-100%`

---

## 설계

### 컨트롤러

- Controller 인터페이스: Lotto 객체에서 `run` 메소드를 사용

### 순서

1. PurchaseController: 구입 금액 입력
2. AutomaticTicketingController: 자동 발권 출력
   - AutomaticTicketing: 자동 티켓 생성
   - SublistStrategy: 랜덤 숫자 지정 처리 전략
3. WinningTicketController: 당첨 번호 입력
4. ResultController: 당첨 결과 출력
   - LottoSponsor: 당첨 수익률 계산

### 클래스

- Main: `Lotto.run` 반복
- Lotto: 컨트롤러 변경, 모델 저장
- Model
  - Purchase: 구입 금액
  - List<Tickets>: 자동 발권 티켓 목록
  - Ticket: 당첨 번호 6자리
    - TicketTokenizer: 문자열 → 숫자 리스트
    - TicketGaurd: 티켓 번호 검증 → 정렬된 번호 반환
- 문자열 변환기: Tokenizer, Converter, TicketTokenizer

### 기타

- 입출력
- 메시지
- 예외
